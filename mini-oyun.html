<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mini Oyun - Frikik</title>
<style>
    body {
        margin: 0;
        background: #1a1a1a;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        color: white;
        font-family: Arial, sans-serif;
        overflow: hidden;
    }
    canvas {
        background: url('saha.jpg') no-repeat center center/cover;
        border: 2px solid white;
        border-radius: 10px;
    }
</style>
</head>
<body>

<canvas id="gameCanvas" width="360" height="600"></canvas>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

// Top verileri
let ball = { x: 180, y: 500, radius: 15, color: "white", vx: 0, vy: 0 };
let isDragging = false;
let dragStart = { x: 0, y: 0 };

// Kale verileri
const goal = { x: 110, y: 50, width: 140, height: 20 };

// Fizik
function update() {
    ball.x += ball.vx;
    ball.y += ball.vy;

    // Sürtünme
    ball.vx *= 0.98;
    ball.vy *= 0.98;

    // Duvar çarpması
    if (ball.x - ball.radius < 0 || ball.x + ball.radius > canvas.width) ball.vx *= -0.8;
    if (ball.y - ball.radius < 0 || ball.y + ball.radius > canvas.height) ball.vy *= -0.8;

    // Gol kontrol
    if (ball.y - ball.radius < goal.y + goal.height &&
        ball.x > goal.x &&
        ball.x < goal.x + goal.width) {
        ctx.fillStyle = "yellow";
        ctx.font = "30px Arial";
        ctx.fillText("GOOOL!", 120, 300);
        ball.vx = 0;
        ball.vy = 0;
    }
}

// Çizim
function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Kale
    ctx.fillStyle = "red";
    ctx.fillRect(goal.x, goal.y, goal.width, goal.height);

    // Top
    ctx.beginPath();
    ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
    ctx.fillStyle = ball.color;
    ctx.fill();
    ctx.closePath();
}

function gameLoop() {
    update();
    draw();
    requestAnimationFrame(gameLoop);
}

function startDrag(x, y) {
    if (Math.hypot(x - ball.x, y - ball.y) <= ball.radius) {
        isDragging = true;
        dragStart.x = x;
        dragStart.y = y;
    }
}

function endDrag(x, y) {
    if (isDragging) {
        ball.vx = (dragStart.x - x) / 10;
        ball.vy = (dragStart.y - y) / 10;
        isDragging = false;
    }
}

// Mouse
canvas.addEventListener("mousedown", e => startDrag(e.offsetX, e.offsetY));
canvas.addEventListener("mouseup", e => endDrag(e.offsetX, e.offsetY));

// Dokunmatik
canvas.addEventListener("touchstart", e => {
    let rect = canvas.getBoundingClientRect();
    let touch = e.touches[0];
    startDrag(touch.clientX - rect.left, touch.clientY - rect.top);
});
canvas.addEventListener("touchend", e => {
    let rect = canvas.getBoundingClientRect();
    let touch = e.changedTouches[0];
    endDrag(touch.clientX - rect.left, touch.clientY - rect.top);
});

gameLoop();
</script>

</body>
</html>
